<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Formulário de Inscrição</title>
  <link rel="stylesheet" href="paginainscricao.css">
  <script src="script.js"></script> <!--js-->
  <script>
    function validarFormulario() {
      // Obter referência ao formulário e à div de mensagens de erro
      const formulario = document.getElementById('formularioInscricao');
      const mensagemErro = document.getElementById('mensagemErro');

      // Resetar mensagens de erro
      mensagemErro.innerHTML = '';

      // Validar campos obrigatórios
      const camposObrigatorios = ['nome_aluno', 'endereco_aluno', /* Adicione outros campos obrigatórios aqui */];
      let formularioValido = true;

      camposObrigatorios.forEach(campo => {
        const valorCampo = formulario[campo].value.trim();
        if (valorCampo === '') {
          mensagemErro.innerHTML += `O campo ${campo.replace('_', ' ')} é obrigatório.<br>`;
          formularioValido = false;
        }
      });

      if (formularioValido) {
        // Campos estão preenchidos, enviar dados para a API
        const dadosFormulario = {
          // Mapeie os campos do formulário para seus valores correspondentes
          nome_aluno: formulario.nome_aluno.value,
          endereco_aluno: formulario.endereco_aluno.value,

        };

        // Enviar dados para a API 
        fetch('https://64f289a2edfa0459f6c5e871.mockapi.io/:endpoint', {
          method: 'POST',
          headers: {
            'Content-Type': 'application/json',
          },
          body: JSON.stringify(dadosFormulario),
        })
          .then(response => {
            if (response.ok) {
              // Redirecionar para página de confirmação após o sucesso
              window.location.href = 'confirmacao.html';
            } else {
              mensagemErro.innerHTML = 'Ocorreu um erro ao enviar o formulário.';
            }
          })
          .catch(error => {
            mensagemErro.innerHTML = 'Ocorreu um erro ao enviar o formulário.';
          });
      }
    }

  </script>
</head>

<body>
  <h1 id="titulo">Formulário de Inscrição</h1>
  <div id="mensagemErro" style="color: red;"></div>
  <form id="formularioInscricao">


    <!-- Dados do Aluno -->
    <h2>Dados do Aluno</h2>
    <label for="nome_aluno">Nome do Aluno *</label>
    <input type="text" id="nome_aluno" name="nome_aluno" required>

    <label for="endereco_aluno">Endereço </label>
    <input type="text" id="endereco_aluno" name="endereco_aluno" required>

    <label for="Bairro_aluno">Bairro </label>
    <input type="text" id="Bairro_aluno" name="Bairro_aluno" required>

    <label for="cidade_aluno">Cidade </label>
    <input type="text" id="Cep_aluno" name="Cep_aluno" required>

    <label for="Numero_aluno">Numero </label>
    <input type="text" id="Numero_aluno" name="Numero_aluno" required>

    <label for="cep_aluno">CEP</label>
    <input type="text" id="cep_aluno" name="cep_aluno" required>

    <label for="Complemento_aluno">Complemento</label>
    <input type="text" id="Complemento_aluno" name="Complemento_aluno" required>

    <label for="Estado_aluno">Estado </label>
    <input type="text" id="Estado_aluno" name="Estado_aluno" required>

    <label for="Telefone_aluno">Telefone </label>
    <input type="text" id="Telefone_aluno" name="Telefone_aluno" required>

    <label for="Celular_aluno">Celular *</label>
    <input type="text" id="Celular_aluno" name="Celular_aluno" required>

    <label for="Email_aluno">e-mail *</label>
    <input type="text" id="Email_aluno" name="Email_aluno" required>

    <label for="cor_pele">Cor da Pele *</label>
    <select id="cor_pele" name="cor_pele" required>
      <option value="Branca">Branca</option>
      <option value="Preta">Preta</option>
      <option value="Parda">Parda</option>
      <option value="Amarela">Amarela</option>
      <option value="Indígena">Indígena</option>
    </select>



    <!-- Dados do Pai -->
    <h2>Dados do Pai</h2>
    <label for="nome_pai">Nome do Pai *</label>
    <input type="text" id="nome_pai" name="nome_pai" required>

    <label for="datan_pai">Data de Nascimento*</label>
    <input type="date" id="datan_pai" name="datan_pai" required>

    <label for="naturalidade_pai">Naturalidade*</label>
    <input type="text" id="naturalidade_pai" name="naturalidade_pai" required>

    <label for="instrução_pai">Instrução*</label>
    <input type="text" id="instrução_pai" name="instrução_pai" required>

    <label for="profissao_pai">Profissão*</label>
    <input type="text" id="profissao_pai" name="profissao_pai" required>

    <label for="celular_pai">Celular do Pai *</label>
    <input type="text" id="celular_pai" name="celular_pai" required>

    <label for="email_pai">E-mail do Pai *</label>
    <input type="email" id="email_pai" name="email_pai" required>

    <label for="cpf_pai">CPF do Pai *</label>
    <input type="text" id="cpf_pai" name="cpf_pai" required>

    <label for="responsavel_financeiro_pai">É responsável financeiro?</label>
    <input type="checkbox" id="responsavel_financeiro_pai" name="responsavel_financeiro_pai">


    <!-- Dados da Mãe -->
    <h2>Dados da Mãe</h2>
    <label for="nome_mae">Nome da Mãe *</label>
    <input type="text" id="nome_mae" name="nome_mae" required>
    <label for="data_nascimento_mae">Data de Nascimento da Mãe *</label>
    <input type="date" id="data_nascimento_mae" name="data_nascimento_mae" required>

    <label for="naturalidade_mae">Naturalidade da Mãe</label>
    <input type="text" id="naturalidade_mae" name="naturalidade_mae">

    <label for="instrucao_mae">Instrução da Mãe</label>
    <input type="text" id="instrucao_mae" name="instrucao_mae">

    <label for="profissao_mae">Profissão da Mãe</label>
    <input type="text" id="profissao_mae" name="profissao_mae">

    <label for="celular_mae">Celular da Mãe *</label>
    <input type="text" id="celular_mae" name="celular_mae" required>

    <label for="email_mae">E-mail da Mãe *</label>
    <input type="email" id="email_mae" name="email_mae" required>

    <label for="cpf_mae">CPF da Mãe *</label>
    <input type="text" id="cpf_mae" name="cpf_mae" required>

    <label for="responsavel_financeiro_mae">É responsável financeiro?</label>
    <input type="checkbox" id="responsavel_financeiro_mae" name="responsavel_financeiro_mae">

    <!-- Dados do Curso -->
    <h2>Dados do Curso</h2>
    <label for="nome_curso">Nome do Curso Escolhido *</label>
    <input type="text" id="nome_curso" name="nome_curso" required>

    <label for="data_ingresso">Data de Ingresso *</label>
    <input type="date" id="data_ingresso" name="data_ingresso" required>

    <label for="valor_curso">Valor do Curso *</label>
    <input type="text" id="valor_curso" name="valor_curso" required>

    <label for="forma_pagamento">Forma de Pagamento (qtde de parcelas) *</label>
    <input type="text" id="forma_pagamento" name="forma_pagamento" required> <!--Required ajuda o usuario nao salvar sem preencher-->


    <!-- Botão de Envio -->
    <form id="formularioInscricao" onsubmit="return false;">
      <!-- Campos do formulário -->
      <input type="text" id="nome" name="nome" placeholder="Nome" required>
      <input type="email" id="email" name="email" placeholder="E-mail" required>


      <!-- Botão de Envio -->
      <input type="submit" value="Inscrever-se">
    </form>
</body>

</html>